LRHYF2 ;DALOI/HOAK - LAB ARRIVAL AND DRAW TIME UPDATER ;12/10/10 6:00pm
 ;;5.2;LAB SERVICE;**405**;Sep 27, 1994;Build 93
 ;
PAT ;
 ;
 K LRHNV
 S LREND=0
 S DIC="^DPT("
 S DIC(0)="AEMQZ"
 D ^DIC
 S DFN=+Y
 S LRDFN=$G(^DPT(DFN,"LR"))
 D ^VADPT,INP^VADPT
 ;
 QUIT
 ;
SINGLE ;
 ; This block calls up the testing demogs
 ;
 K LRAA,LRAN,LRTEXH,LRPHLEB,LRAD,LRN0,LRHNODE,LR0NODE,LRACC
 W !!
 S LRACC=""
 K LRHN0 D ^LRHYU4
 I LRAN<1 QUIT
JOEIN ;
 I '$D(^LRO(68,LRAA,1,LRAD,1,LRAN,0)) W !,"Doesn't exist." G SINGLE
 S LRUNC=1
 S LRDAT=+$P(^LRO(68,LRAA,1,LRAD,1,LRAN,0),U,4),LRSN=+$P(^(0),U,5)
 D LST1^LRHYLS1 ;URG^LRX,TESTS
 S LRTEST=$O(^LRO(68,LRAA,1,LRAD,1,LRAN,4,0))
 S LRURG=$P($G(^LRO(68,LRAA,1,LRAD,1,LRAN,4,LRTEST,0)),U,2)
 W !,$S($D(^LAB(62.05,+LRURG,0)):$P(^(0),U),1:"")," "
 D EDIT
 I $G(LREND) W !,"Please start over..." K LREND,LRIDTNEW
 G SINGLE
 ;
 ;
 QUIT
 ;
 ;
EDIT ;
 D D1^LRHYBC1 QUIT
